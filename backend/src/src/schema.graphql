type Query {
  meta: Meta!
  winds(input: WindsInput!): WindsResult!
}

"""
Some metadata
"""
type Meta {
  ciPipelineId: String!
  buildDate: String!
  timeRanges: [String!]!
  months: [String!]!
  windDirections: [WindDirection!]!
  windVelocities: [WindVelocity!]!
}

"""
Description of wind velocities
idx: used in wind records
Beaufort names and numbers are taken wrom wiki
from/to knots are half closed intervals
missing from/to means open interval (to 0/infinite)
"""
type WindVelocity {
  idx: Int!
  beaufortName: String!
  beaufortNumber: Int!
  fromKt: String
  toKt: String
}

"""
Description of wind directions
idx: used in wind records
"""
type WindDirection {
  idx: Int!
  name: String!
  angle: Float!
}

"""
timeRange: one of ("2020", "2016-2020")
from/to lat/lng: half closed intervals
"""
input WindsInput {
  timeRange: String!
  month: String!
  fromLat: Float!
  toLat: Float!
  fromLng: Float!
  toLng: Float!
}

"""
Historic winds for a particular time and place
"""
type WindsResult {
  records: [WindRecord!]!
}

"""
Single records describing a bin of
wind direction and velocity with count
"""
type WindRecord {
  dir: Int!
  vel: Int!
  count: Int!
}
